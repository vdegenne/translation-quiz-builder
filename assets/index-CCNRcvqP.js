import{B as $,o as d,x as m,E as f,U as p,v as y,u as k}from"./index-Xcr6FJoB.js";function P({headline:s,content:o,cancelButton:t,confirmButton:a,blockScrimClick:w=!1,blockEscapeKey:g=!1,onDialogReady:c,styles:v}){return new Promise(async(h,A)=>{const i=document.createElement("div");let u=Promise.resolve(),b=Promise.resolve(),n=!1;$(m`<md-dialog ?block-scrim-click="${w}" ?block-escape-key="${g}" style="${d(v??{})}" @cancel="${e=>{const r=e.target;r.returnValue===""&&(n?r.hasAttribute("block-escape-key")&&e.preventDefault():r.hasAttribute("block-scrim-click")&&e.preventDefault(),n=!1)}}" @keydown="${e=>{e.code==="Escape"&&(n=!0)}}" @closed="${async e=>{switch(e.target.returnValue){case"":case"cancel":A(await u);break;case"confirm":default:h(await b)}e.target.remove(),i.remove()}}"></md-dialog>`,i),document.body.prepend(i);const l=i.querySelector(":scope > md-dialog");await l.updateComplete,$(m`<div slot="headline">${s}</div><form method="dialog" id="inner-form" slot="content">${o(l)}</form>${t||a?m`<div slot="actions">${t?(()=>{t.buttonType=t.buttonType??"md-text-button";const e=y`${p(t.buttonType)}`;return k`<${e} id="cancelButton" style="${d(t.styles??{})}" @click="${()=>{t.callback&&(u=new Promise(async r=>{r(await t.callback(l))}))}}" form="inner-form" value="${t.dialogAction??"cancel"}">${t.label??"Cancel"}</${e}>`})():f} ${a?(()=>{a.buttonType=a.buttonType??"md-text-button";const e=y`${p(a.buttonType)}`;return k`<${e} id="confirmButton" style="${d(a.styles??{})}" @click="${()=>{a.callback&&(b=new Promise(async r=>{r(await a.callback(l))}))}}" form="inner-form" value="${a.dialogAction??"confirm"}">${a.label??"Confirm"}</${e}>`})():f}</div>`:null}`,l),l.$={confirmButton:null,cancelButton:null},l.querySelectorAll("[id]").forEach(e=>{l.$[e.getAttribute("id")]=e}),await l.updateComplete,await(c==null?void 0:c(l)),l.show()})}async function T({headline:s="Are you sure?",content:o="Are you sure to perform this action?",cancelButton:t={},confirmButton:a={}}={}){return await P({headline:s,content(){return o},confirmButton:a,cancelButton:t})}export{T as materialConfirm,P as materialDialog};
